<template name="chatFrame">
  <div class="chat-frame opened focusedTab">
    <div class="chat-view">
      <header class="chat-header">
        <div class="col-md-6 text-left partner-name">
          {{user.username}}
        </div>
        <div class="col-md-6 text-right menu">
          <a class="button chat-minimize fa fa-minus-circle" data-hover="tooltip" title="탭 최소화"></a>
          <a class="button chat-exit fa fa-times-circle" data-hover="tooltip" title="탭 닫기"></a>
        </div>
      </header>

      <main class="chat-main">
        <div class="chat-message-lists">
          {{#each chatMessagesList}}
            {{> chatMessageListItem this}}
          {{/each}}
          {{#if onTyping}}
            {{>chatStatusInput}}
          {{/if}}
        </div>
      </main>
      <footer class="chat-footer">
        <div class="chat-message-box">
          <textarea class="chat-textarea"></textarea>
        </div>
      </footer>
    </div>
  </div>
</template>

<template name="chatMessageListItem">
  {{#if isDate type}}
    <hr/>
      {{momentKoreanDate createdAt 5}}
    <hr/>
  {{else}}
    <div class="chat-message-list">
      {{#unless isUserMessage from}}
        <a href="#" class="avatar-sm">
          {{{getPartnerPictures}}}
        </a>
        <div class="text-left chat-partner">
          {{content}}
        </div>
      {{else}}
        <div class="text-right chat-self">
          {{content}}
        </div>
      {{/unless}}
    </div>
  {{/if}}
</template>

<template name="chatStatusInput">
  <div class="text-left chat-partner">
    입력중입니다......
  </div>
</template>
<template name="chatFrame">
  <div class="chat-frame opened focusedTab">
    <div class="chat-view">
      <header class="chat-header">
        <div class="menu-left">
          {{user.username}}
        </div>
        <div class="menu-right">
          <!--<a class="button chat-minimize fa fa-minus-circle" data-hover="tooltip" title="탭 최소화"></a>-->
          <a class="button chat-exit fa fa-times-circle" data-hover="tooltip" title="탭 닫기"></a>
        </div>
      </header>

      <main class="chat-main">
        <div class="chat-message-lists">
          {{#each chatMessagesList}}
            {{> chatMessageListItem this}}
          {{/each}}
          {{#if onTyping}}
            {{>chatStatusInput}}
          {{/if}}
        </div>
      </main>
      <footer class="chat-footer">
        <div class="chat-message-box">
          <textarea class="chat-textarea"></textarea>
        </div>
      </footer>
    </div>
  </div>
</template>

<template name="chatMessageListItem">
  <div class="chat-message-list">
    {{#if isDate type}}
      <div class="text-center chat-date" data-date="{{momentKoreanDate createdAt 5}}">

      </div>
    {{else}}
      {{#unless isUserMessage from}}
        <a href="#" class="avatar-sm">
          {{{getPartnerPictures}}}
        </a>
        <div class="text-left chat-partner">
          {{content}}
        </div>
      {{else}}
        <div class="text-right chat-self">
          {{content}}
        </div>
      {{/unless}}
    {{/if}}
  </div>
</template>

<template name="chatStatusInput">
  <div class="text-left chat-partner">
    입력중입니다......
  </div>
</template>
<template name="signIn">
  <article>
    {{> accountsUIHeader title='accounts-ui:nav_sign_in'}}

    <div class="body">
      {{#if loggingIn}}
        {{> accountsUILoading}}
      {{/if}}

      {{> meteorModalAlerts}}

      {{#each services}}
        {{#if isPasswordService}}
          {{#if hasOtherServices}} {{! the password service will always come last }}
            {{> signInServiceSeparator}}
          {{/if}}
          {{> signInPasswordService}}
        {{else}}
          {{> signInOtherService}}
        {{/if}}
      {{/each}}
    </div>

    <footer>
      {{#if showCreateAccountLink}}
        <div class="additional-link-container">
          <a id="signUpLink" class="additional-link">{{_ 'accounts-ui:command_sign_up'}}</a>
        </div>
      {{/if}}
    </footer>
  </article>
</template>

<template name="signInPasswordService">
  <form id="formSignIn" class="login-form login-password-form">
    {{#each fields}}
      {{> accountsUIFormField}}
    {{/each}}

    {{#if showForgotPasswordLink}}
      <section class="form-group">
        <a id="forgotPasswordLink"
           class="pull-right">{{_ 'accounts-ui:text_forgot_password'}}</a>
      </section>
    {{/if}}

    <section class="form-group">
      <button type="submit" class="btn btn-primary btn-block pull-right">
        {{_ 'accounts-ui:command_sign_in'}}
      </button>
    </section>
  </form>
</template>

<template name="signInOtherService">
  <div class="login-text-and-button">
    <div class="login-button single-login-button {{#unless configured}}configure-button{{/unless}}"
         id="login-buttons-{{name}}">
      <div class="login-image" id="login-buttons-image-{{name}}"></div>
      {{#if configured}}
        <span class="text-besides-image sign-in-text-{{name}}">Sign in with {{capitalizedName}}</span>
      {{else}}
        <span class="text-besides-image configure-text-{{name}}">Configure {{capitalizedName}} Login</span>
      {{/if}}
    </div>
  </div>
</template>

<template name="signInServiceSeparator">
  <div class="or">
    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span class="or-text">or</span>
    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
  </div>
</template>

<template name="backToSignIn">
  <div class="additional-link-container">
    <a id="backToSignIn" class="additional-link">{{_ 'accounts-ui:nav_sign_in'}}</a>
  </div>
</template>